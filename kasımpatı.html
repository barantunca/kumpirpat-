<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Kumpirpatı</title>

<style>
    body {
        margin: 0;
        background: #fff5fa;
        height: 100vh;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
            sans-serif;
    }

    .scene {
        width: 100%;
        height: 100%;
        position: relative;
    }

    .flower {
        position: absolute;
        pointer-events: auto;
        transform: translate(-50%, -50%) scale(0.9);
        transition: transform 1.2s ease;
    }

    .flower.open {
        transform: translate(-50%, -50%) scale(1.04);
    }

    /* MAIN (KUMPIR) FLOWER */
    #flower-main {
        width: 520px;
        height: 520px;
        left: 50%;
        top: 50%;
    }

    /* MINI FLOWERS – smaller + further away, asymmetrical */
    .flower-mini {
        width: 190px;
        height: 190px;
        transform: translate(-50%, -50%) scale(0.8);
    }

    .flower-mini.open {
        transform: translate(-50%, -50%) scale(0.95);
    }

    /* scattered, not symmetrical */
    #mini1 { left: 20%; top: 25%; }
    #mini2 { left: 80%; top: 23%; }
    #mini3 { left: 18%; top: 78%; }
    #mini4 { left: 83%; top: 82%; }

    /* PETALS (shared base) */
    .petal {
        position: absolute;
        left: 50%;
        top: 50%;
        transform-origin: 50% 100%; /* bottom center */
        transform: translate(-50%, -100%) rotate(var(--angle)) scale(0.01);
        opacity: 0;
        transition:
            transform 1.4s cubic-bezier(0.22, 0.67, 0.41, 1.26),
            opacity 1s ease;
        will-change: transform, opacity;
    }

    .flower.open .petal {
        opacity: 1;
        transform: translate(-50%, -100%)
                   rotate(var(--angle))
                   scale(var(--scaleTarget));
    }

    .petal svg {
        width: 100%;
        height: 100%;
        display: block;
    }

    /* base petal size; layers are scaled via --scaleTarget */
    #flower-main .petal {
        width: 40px;
        height: 190px;
    }

    .flower-mini .petal {
        width: 26px;
        height: 130px;
    }

    /* CENTERS */
    .center {
        position: absolute;
        left: 50%;
        top: 50%;
        width: 110px;
        height: 110px;
        transform: translate(-50%, -50%) scale(0.6);
        border-radius: 50%;
        background: radial-gradient(circle at 35% 30%,
                    #ffe899 0%,
                    #ffcf3d 35%,
                    #e3a50a 70%,
                    #8a5c00 100%);
        box-shadow:
            0 0 22px rgba(255, 210, 80, 0.7),
            0 0 40px rgba(255, 180, 60, 0.5);
        transition: transform 1.1s ease;
        overflow: hidden;
    }

    .flower.open .center {
        transform: translate(-50%, -50%) scale(1);
    }

    /* KUMPIR CENTER – yellow outline + glow + image */
  #flower-main .center {
    width: 185px;           /* bigger center */
    height: 185px;          /* bigger center */
    background: radial-gradient(circle at 50% 50%,
                rgba(255,255,255,0.95) 0%,
                rgba(255,240,200,0.6) 40%,
                rgba(255,220,150,0.1) 75%,
                rgba(255,220,150,0) 100%);
    border: 14px solid #ffd75a;   /* BIGGER YELLOW OUTLINE */
    border-radius: 50%;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%) scale(1);
    box-shadow:
        0 0 45px rgba(255, 215, 100, 1),
        0 0 95px rgba(255, 180, 60, 0.8),
        0 0 130px rgba(255, 150, 180, 0.5);
    overflow: hidden;
    transition: transform 1.1s ease;
}

#flower-main .center img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
}


    /* TEXT */
    #text {
        position: absolute;
        width: 100%;
        bottom: 40px;
        text-align: center;
        font-size: 36px;
        font-weight: 700;
        color: #b2317a;
        opacity: 0;
        transition: opacity 2s ease;
        text-shadow: 0 0 14px rgba(255, 150, 200, 0.6);
        pointer-events: none;
    }

    #text.shown {
        opacity: 1;
    }
</style>
</head>

<body>
<div class="scene">
    <!-- Main Kumpir flower -->
    <div id="flower-main" class="flower"></div>

    <!-- Mini flowers (all normal yellow centers) -->
    <div id="mini1" class="flower flower-mini"></div>
    <div id="mini2" class="flower flower-mini"></div>
    <div id="mini3" class="flower flower-mini"></div>
    <div id="mini4" class="flower flower-mini"></div>

    <div id="text">kumpirpatı :D</div>
</div>

<script>
    const mainFlower = document.getElementById("flower-main");
    const minis = [
        document.getElementById("mini1"),
        document.getElementById("mini2"),
        document.getElementById("mini3"),
        document.getElementById("mini4")
    ];
    const textEl = document.getElementById("text");

    let isOpen = false;
    let mainTimeout = null;
    let textTimeout = null;

    // 7-LAYER CONFIG (Option B)
    const colors = [
        "#7b163b", // very inner – dark red
        "#8f1b43",
        "#a72653",
        "#c23667",
        "#d94b7d",
        "#eb6a9a",
        "#f7a7c9"  // outer – light pink
    ];

    const mainLayers = [
    { count: 62, scale: 1.04, color: colors[6] }, // light pink outer
    { count: 54, scale: 0.92, color: colors[5] },
    { count: 47, scale: 0.82, color: colors[4] },
    { count: 40, scale: 0.70, color: colors[3] },
    { count: 31, scale: 0.58, color: colors[2] },
    { count: 24, scale: 0.46, color: colors[1] },
    { count: 18, scale: 0.35, color: colors[0] }  // dark red inner
];


  const miniLayers = [
    { count: 34, scale: 0.98, color: colors[6] },
    { count: 30, scale: 0.88, color: colors[5] },
    { count: 26, scale: 0.78, color: colors[4] },
    { count: 22, scale: 0.67, color: colors[3] },
    { count: 18, scale: 0.56, color: colors[2] },
    { count: 14, scale: 0.45, color: colors[1] },
    { count: 10, scale: 0.35, color: colors[0] }
];



    function petalSvg(fill) {
        // single teardrop shape; depth comes from layers + scaling
        return `
<svg viewBox="0 0 40 190" xmlns="http://www.w3.org/2000/svg">
  <path d="
    M 20 0
    C 30 18, 34 48, 31 85
    C 28 120, 25 155, 20 190
    C 15 155, 12 120, 9 85
    C 6 48, 10 18, 20 0
    Z
  " fill="${fill}"/>
</svg>`;
    }

    function buildFlower(root, layers, isMain) {
        layers.forEach(layer => {
            const { count, scale, color } = layer;
            const svg = petalSvg(color);

            for (let i = 0; i < count; i++) {
                const petal = document.createElement("div");
                petal.classList.add("petal");

                const angle = (360 / count) * i;
                petal.style.setProperty("--angle", angle + "deg");
                petal.style.setProperty("--scaleTarget", scale);

                petal.innerHTML = svg;
                root.appendChild(petal);
            }
        });

        // center
        const center = document.createElement("div");
        center.classList.add("center");

        if (isMain) {
            const img = document.createElement("img");
            img.src = "kumpir.png";       // <<< YOUR PNG HERE
            img.alt = "Kumpir";
            center.appendChild(img);
        }

        root.appendChild(center);
    }

    // build main + mini flowers
    buildFlower(mainFlower, mainLayers, true);
    minis.forEach(m => buildFlower(m, miniLayers, false));

    function openAnimation() {
        // minis open first
        minis.forEach(m => m.classList.add("open"));

        // main opens after slow reveal delay
        mainTimeout = setTimeout(() => {
            mainFlower.classList.add("open");
        }, 1800); // mini bloom time

        textTimeout = setTimeout(() => {
            textEl.classList.add("shown");
        }, 2500); // text after main bloom
    }

    function closeAnimation() {
        clearTimeout(mainTimeout);
        clearTimeout(textTimeout);

        mainFlower.classList.remove("open");
        minis.forEach(m => m.classList.remove("open"));
        textEl.classList.remove("shown");
    }

    mainFlower.addEventListener("click", () => {
        if (!isOpen) {
            openAnimation();
        } else {
            closeAnimation();
        }
        isOpen = !isOpen;
    });
</script>
</body>
</html>
